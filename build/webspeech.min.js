/*! webspeech 2015-02-02 */
function RobotSpeaker(){this.u=new SpeechSynthesisUtterance,this.u.rate=1,this.u.onend=function(){},this.speak=function(a,b){this.u.lang=a,this.u.text=b,speechSynthesis.speak(this.u)}}function AudioListener(a){this.listener=new webkitSpeechRecognition,platform.os.toString().indexOf("OS X")>-1&&(this.listener.continuous=!0),a&&(this.callBack=a),this.listener.lang="en";var b=this;this.listener.onresult=function(a){if(a.results.length>0){var c=a.results[a.results.length-1];c.isFinal&&b.callBack(c[0].transcript)}},this.listener.onsoundstart=function(){},this.listener.onspeechstart=function(){},this.listener.onsoundend=function(){},this.isContinuous=function(){return this.listener.continuous},this.listen=function(a,b){a&&(this.listener.lang=a),b&&(this.callBack=b),this.listener.start()},this.stop=function(){this.listener.stop(),console.log("audio listener stopped")}}